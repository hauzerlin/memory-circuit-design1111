clc
clear


v1_1 = [        % v2從0掃到1
999.7488*0.001
999.6893*0.001
999.6121*0.001
999.5120*0.001
999.3823*0.001
999.2147*0.001
998.9986*0.001
998.7206*0.001
998.3638*0.001
997.9069*0.001
997.3236*0.001
996.5811*0.001
995.6388*0.001
994.4470*0.001
992.9453*0.001
991.0601*0.001
988.7032*0.001
985.7694*0.001
982.1335*0.001
977.6485*0.001
972.1427*0.001
965.4164*0.001
957.2392*0.001
947.3460*0.001
935.4299*0.001
921.1400*0.001
904.0607*0.001
883.6945*0.001
859.4248*0.001
830.4544*0.001
795.7125*0.001
753.8184*0.001
704.0023*0.001
651.3298*0.001
608.3929*0.001
578.2218*0.001
556.0562*0.001
538.3495*0.001
523.2513*0.001
509.7762*0.001
497.3584*0.001
485.6543*0.001
474.4376*0.001
463.5571*0.001
452.9078*0.001
442.4151*0.001
432.0259*0.001
421.7021*0.001
411.4173*0.001
401.1534*0.001
390.8994*0.001
380.6494*0.001
370.4017*0.001
360.1585*0.001
349.9247*0.001
339.7078*0.001
329.5180*0.001
319.3676*0.001
309.2712*0.001
299.2462*0.001
289.3130*0.001
279.4956*0.001
269.8222*0.001
260.3264*0.001
251.0478*0.001
242.0326*0.001
233.3335*0.001
225.0079*0.001
217.1142*0.001
209.7058*0.001
202.8240*0.001
196.4908*0.001
190.7065*0.001
185.4511*0.001
180.6890*0.001
176.3760*0.001
172.4652*0.001
168.9103*0.001
165.6689*0.001
162.7032*0.001
159.9800*0.001
157.4706*0.001
155.1505*0.001
152.9984*0.001
150.9963*0.001
149.1283*0.001
147.3810*0.001
145.7426*0.001
144.2030*0.001
142.7530*0.001
141.3849*0.001
140.0917*0.001
138.8672*0.001
137.7060*0.001
136.6032*0.001
135.5544*0.001
134.5556*0.001
133.6034*0.001
132.6944*0.001
131.8259*0.001
130.9951*0.001
];
v2_1 =[    0           
   10.00000*0.001
   20.00000*0.001
   30.00000*0.001
   40.00000*0.001
   50.00000*0.001
   60.00000*0.001
   70.00000*0.001
   80.00000*0.001
   90.00000*0.001
  100.00000*0.001
  110.00000*0.001
  120.00000*0.001
  130.00000*0.001
  140.00000*0.001
  150.00000*0.001
  160.00000*0.001
  170.00000*0.001
  180.00000*0.001
  190.00000*0.001
  200.00000*0.001
  210.00000*0.001
  220.00000*0.001
  230.00000*0.001
  240.00000*0.001
  250.00000*0.001
  260.00000*0.001
  270.00000*0.001
  280.00000*0.001
  290.00000*0.001
  300.00000*0.001
  310.00000*0.001
  320.00000*0.001
  330.00000*0.001
  340.00000*0.001
  350.00000*0.001
  360.00000*0.001
  370.00000*0.001
  380.00000*0.001
  390.00000*0.001
  400.00000*0.001
  410.00000*0.001
  420.00000*0.001
  430.00000*0.001
  440.00000*0.001
  450.00000*0.001
  460.00000*0.001
  470.00000*0.001
  480.00000*0.001
  490.00000*0.001
  500.00000*0.001
  510.00000*0.001
  520.00000*0.001
  530.00000*0.001
  540.00000*0.001
  550.00000*0.001
  560.00000*0.001
  570.00000*0.001
  580.00000*0.001
  590.00000*0.001
  600.00000*0.001
  610.00000*0.001
  620.00000*0.001
  630.00000*0.001
  640.00000*0.001
  650.00000*0.001
  660.00000*0.001
  670.00000*0.001
  680.00000*0.001
  690.00000*0.001
  700.00000*0.001
  710.00000*0.001
  720.00000*0.001
  730.00000*0.001
  740.00000*0.001
  750.00000*0.001
  760.00000*0.001
  770.00000*0.001
  780.00000*0.001
  790.00000*0.001
  800.00000*0.001
  810.00000*0.001
  820.00000*0.001
  830.00000*0.001
  840.00000*0.001
  850.00000*0.001
  860.00000*0.001
  870.00000*0.001
  880.00000*0.001
  890.00000*0.001
  900.00000*0.001
  910.00000*0.001
  920.00000*0.001
  930.00000*0.001
  940.00000*0.001
  950.00000*0.001
  960.00000*0.001
  970.00000*0.001
  980.00000*0.001
  990.00000*0.001
    1.00000      
];

v1_2 = v2_1; %v1從0掃到1
v2_2 = v1_1; % 從1掉到0

plot(v1_1,v1_2,'b',LineWidth=3.0);
hold on
plot(v2_1, v2_2,'r',LineWidth=3.0);

axis equal

%% plot rectangle (right)

x1 = v1_1; y1 = v1_2;
x2 = v2_1; y2 = v2_2;

for i =0:100
    for j = 0:100
        save_angle(i+1,j+1) = line_angle(x1(i+1),y1(i+1),x2(j+1),y2(j+1));
        save_length(i+1,j+1) = line_length(x1(i+1),y1(i+1),x2(j+1),y2(j+1));
    end
end

cnt = 0;

for i =1:101
    for j = 1:101
        if(save_angle(i,j)>44.5 && save_angle(i,j)<45.5)
            list_x(cnt+1) = i;
            list_y(cnt+1) = j;
            cnt = cnt+1;
        end
    end
end

max = 0;
max_x =0;
max_y =0;

for i = 1:length(list_y)
    if(save_length(list_x(i),list_y(i))>max)
        max =save_length(list_x(i),list_y(i));
        max_x = list_x(i);
        max_y = list_y(i);
    end
end

% plot([record(location,1),record(location,3)],[record(location,2),record(location,4)],'g',LineWidth=3.0) %x1,y1 x2,y2
% 
% plot([record(location,1),record(location,1)],[record(location,2),record(location,4)],'g',LineWidth=3.0)
% plot([record(location,1),record(location,3)],[record(location,4),record(location,4)],'g',LineWidth=3.0)
% plot([record(location,3),record(location,3)],[record(location,2),record(location,4)],'g',LineWidth=3.0)
% plot([record(location,1),record(location,3)],[record(location,2),record(location,2)],'g',LineWidth=3.0)

% 
plot([x1(max_x),x2(max_y)],[y1(max_x),y2(max_y)],'g',LineWidth=3.0)

plot([x1(max_x),x1(max_x)],[y1(max_x),y2(max_y)],'g',LineWidth=3.0)
plot([x1(max_x),x2(max_y)],[y2(max_y),y2(max_y)],'g',LineWidth=3.0)
plot([x2(max_y),x2(max_y)],[y1(max_x),y2(max_y)],'g',LineWidth=3.0)
plot([x1(max_x),x2(max_y)],[y1(max_x),y1(max_x)],'g',LineWidth=3.0)

%% plot rectangle (left)

x1 = v1_1; y1 = v1_2;
x2 = v2_1; y2 = v2_2;

for i =0:100
    for j = 0:100
        save_angle(i+1,j+1) = line_angle(x2(i+1),y2(i+1),x1(j+1),y1(j+1));
        save_length(i+1,j+1) = line_length(x2(i+1),y2(i+1),x1(j+1),y1(j+1));
    end
end

cnt = 0;

for i =1:101
    for j = 1:101
        if(save_angle(i,j)>44.5 && save_angle(i,j)<45.5)
            list_x(cnt+1) = i;
            list_y(cnt+1) = j;
            cnt = cnt+1;
        end
    end
end

max = 0;
max_x =0;
max_y =0;

for i = 1:length(list_y)
    if(save_length(list_x(i),list_y(i))>max)
        max =save_length(list_x(i),list_y(i));
        max_x = list_x(i);
        max_y = list_y(i);
    end
end

 
plot([x2(max_x),x1(max_y)],[y2(max_x),y1(max_y)],'g',LineWidth=3.0)

plot([x2(max_x),x2(max_x)],[y2(max_x),y1(max_y)],'g',LineWidth=3.0)
plot([x2(max_x),x1(max_y)],[y1(max_y),y1(max_y)],'g',LineWidth=3.0)
plot([x1(max_y),x1(max_y)],[y2(max_x),y1(max_y)],'g',LineWidth=3.0)
plot([x2(max_x),x1(max_y)],[y2(max_x),y2(max_x)],'g',LineWidth=3.0)

