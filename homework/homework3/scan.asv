v1_1 = [        % v2從0掃到1
999.9801*0.001 
999.9753*0.001 
999.9692*0.001 
999.9613*0.001 
999.9510*0.001 
999.9377*0.001 
999.9205*0.001 
999.8984*0.001 
999.8700*0.001 
999.8336*0.001 
999.7870*0.001 
999.7276*0.001 
999.6520*0.001 
999.5561*0.001 
999.4349*0.001 
999.2821*0.001 
999.0901*0.001 
998.8496*0.001 
998.5496*0.001 
998.1767*0.001 
997.7148*0.001 
997.1451*0.001 
996.4451*0.001 
995.5890*0.001 
994.5467*0.001 
993.2836*0.001 
991.7610*0.001 
989.9350*0.001 
987.7573*0.001 
985.1742*0.001 
982.1271*0.001 
978.5513*0.001 
974.3752*0.001 
969.5185*0.001 
963.8892*0.001 
957.3817*0.001 
949.8703*0.001 
941.1945*0.001 
931.1463*0.001 
919.4457*0.001 
905.6970*0.001 
889.3219*0.001 
869.4075*0.001 
844.4348*0.001 
811.8587*0.001 
768.6705*0.001 
715.6075*0.001 
658.5665*0.001 
606.3018*0.001 
566.1980*0.001 
536.9912*0.001 
514.4570*0.001 
495.8480*0.001 
479.6900*0.001 
465.1701*0.001 
451.8112*0.001 
439.3174*0.001 
427.4976*0.001 
416.2234*0.001 
405.4071*0.001 
394.9883*0.001 
384.9247*0.001 
375.1872*0.001 
365.7556*0.001 
356.6162*0.001 
347.7598*0.001 
339.1804*0.001 
330.8744*0.001 
322.8394*0.001 
315.0744*0.001 
307.5788*0.001 
300.3529*0.001 
293.3978*0.001 
286.7150*0.001 
280.3070*0.001 
274.1770*0.001 
268.3287*0.001 
262.7658*0.001 
257.4916*0.001 
252.5080*0.001 
247.8146*0.001 
243.4081*0.001 
239.2818*0.001 
235.4258*0.001 
231.8271*0.001 
228.4708*0.001 
225.3404*0.001 
222.4190*0.001 
219.6897*0.001 
217.1363*0.001 
214.7435*0.001 
212.4973*0.001 
210.3847*0.001 
208.3943*0.001 
206.5154*0.001 
204.7387*0.001 
203.0558*0.001 
201.4591*0.001 
199.9419*0.001 
198.4982*0.001 
197.1224*0.001 
];
v2_1 =[    0           
   10.00000*0.001
   20.00000*0.001
   30.00000*0.001
   40.00000*0.001
   50.00000*0.001
   60.00000*0.001
   70.00000*0.001
   80.00000*0.001
   90.00000*0.001
  100.00000*0.001
  110.00000*0.001
  120.00000*0.001
  130.00000*0.001
  140.00000*0.001
  150.00000*0.001
  160.00000*0.001
  170.00000*0.001
  180.00000*0.001
  190.00000*0.001
  200.00000*0.001
  210.00000*0.001
  220.00000*0.001
  230.00000*0.001
  240.00000*0.001
  250.00000*0.001
  260.00000*0.001
  270.00000*0.001
  280.00000*0.001
  290.00000*0.001
  300.00000*0.001
  310.00000*0.001
  320.00000*0.001
  330.00000*0.001
  340.00000*0.001
  350.00000*0.001
  360.00000*0.001
  370.00000*0.001
  380.00000*0.001
  390.00000*0.001
  400.00000*0.001
  410.00000*0.001
  420.00000*0.001
  430.00000*0.001
  440.00000*0.001
  450.00000*0.001
  460.00000*0.001
  470.00000*0.001
  480.00000*0.001
  490.00000*0.001
  500.00000*0.001
  510.00000*0.001
  520.00000*0.001
  530.00000*0.001
  540.00000*0.001
  550.00000*0.001
  560.00000*0.001
  570.00000*0.001
  580.00000*0.001
  590.00000*0.001
  600.00000*0.001
  610.00000*0.001
  620.00000*0.001
  630.00000*0.001
  640.00000*0.001
  650.00000*0.001
  660.00000*0.001
  670.00000*0.001
  680.00000*0.001
  690.00000*0.001
  700.00000*0.001
  710.00000*0.001
  720.00000*0.001
  730.00000*0.001
  740.00000*0.001
  750.00000*0.001
  760.00000*0.001
  770.00000*0.001
  780.00000*0.001
  790.00000*0.001
  800.00000*0.001
  810.00000*0.001
  820.00000*0.001
  830.00000*0.001
  840.00000*0.001
  850.00000*0.001
  860.00000*0.001
  870.00000*0.001
  880.00000*0.001
  890.00000*0.001
  900.00000*0.001
  910.00000*0.001
  920.00000*0.001
  930.00000*0.001
  940.00000*0.001
  950.00000*0.001
  960.00000*0.001
  970.00000*0.001
  980.00000*0.001
  990.00000*0.001
    1.00000      
];

v1_2 = v2_1; %v1從0掃到1
v2_2 = v1_1; % 從1掉到0

plot(v1_1,v1_2,'b',LineWidth=3.0);
hold on
plot(v2_1, v2_2,'r',LineWidth=3.0);

axis equal

%% plot rectangle (right)

x1 = v1_1; y1 = v1_2;
x2 = v2_1; y2 = v2_2;

for i =0:100
    for j = 0:100
        save_angle(i+1,j+1) = line_angle(x1(i+1),y1(i+1),x2(j+1),y2(j+1));
        save_length(i+1,j+1) = line_length(x1(i+1),y1(i+1),x2(j+1),y2(j+1));
    end
end

cnt = 0;

for i =1:101
    for j = 1:101
        if(save_angle(i,j)>44.5 && save_angle(i,j)<45.5)
            list_x(cnt+1) = i;
            list_y(cnt+1) = j;
            cnt = cnt+1;
        end
    end
end

max = 0;
max_x =0;
max_y =0;

for i = 1:length(list_y)
    if(save_length(list_x(i),list_y(i))>max)
        max =save_length(list_x(i),list_y(i));
        max_x = list_x(i);
        max_y = list_y(i);
    end
end

% plot([record(location,1),record(location,3)],[record(location,2),record(location,4)],'g',LineWidth=3.0) %x1,y1 x2,y2
% 
% plot([record(location,1),record(location,1)],[record(location,2),record(location,4)],'g',LineWidth=3.0)
% plot([record(location,1),record(location,3)],[record(location,4),record(location,4)],'g',LineWidth=3.0)
% plot([record(location,3),record(location,3)],[record(location,2),record(location,4)],'g',LineWidth=3.0)
% plot([record(location,1),record(location,3)],[record(location,2),record(location,2)],'g',LineWidth=3.0)

% 
plot([x1(max_x),x2(max_y)],[y1(max_x),y2(max_y)],'g',LineWidth=3.0)

plot([x1(max_x),x1(max_x)],[y1(max_x),y2(max_y)],'g',LineWidth=3.0)
plot([x1(max_x),x2(max_y)],[y2(max_y),y2(max_y)],'g',LineWidth=3.0)
plot([x2(max_y),x2(max_y)],[y1(max_x),y2(max_y)],'g',LineWidth=3.0)
plot([x1(max_x),x2(max_y)],[y1(max_x),y1(max_x)],'g',LineWidth=3.0)

%% plot rectangle (left)

x1 = v1_1; y1 = v1_2;
x2 = v2_1; y2 = v2_2;

for i =0:100
    for j = 0:100
        save_angle(i+1,j+1) = line_angle(x2(i+1),y2(i+1),x1(j+1),y1(j+1));
        save_length(i+1,j+1) = line_length(x2(i+1),y2(i+1),x1(j+1),y1(j+1));
    end
end

cnt = 0;

for i =1:101
    for j = 1:101
        if(save_angle(i,j)>44.5 && save_angle(i,j)<45.5)
            list_x(cnt+1) = i;
            list_y(cnt+1) = j;
            cnt = cnt+1;
        end
    end
end

max = 0;
max_x =0;
max_y =0;

for i = 1:length(list_y)
    if(save_length(list_x(i),list_y(i))>max)
        max =save_length(list_x(i),list_y(i));
        max_x = list_x(i);
        max_y = list_y(i);
    end
end

 
plot([x2(max_x),x1(max_y)],[y2(max_x),y1(max_y)],'g',LineWidth=3.0)

plot([x2(max_x),x2(max_x)],[y2(max_x),y1(max_y)],'g',LineWidth=3.0)
plot([x2(max_x),x1(max_y)],[y1(max_y),y1(max_y)],'g',LineWidth=3.0)
plot([x1(max_y),x1(max_y)],[y2(max_x),y1(max_y)],'g',LineWidth=3.0)
plot([x2(max_x),x1(max_y)],[y2(max_x),y2(max_x)],'g',LineWidth=3.0)

